import type { AchievementDef } from '../types/achievements';

export const achievements: AchievementDef[] = [
  // ══════════════════════════════════════════════════════════════
  // SPEED (8)
  // ══════════════════════════════════════════════════════════════
  {
    id: 'lightning-reflexes',
    name: 'Lightning Reflexes',
    description: 'Complete a stratagem in under 1 second.',
    category: 'speed',
    checkType: 'live',
    icon: '\u26A1',
  },
  {
    id: 'supersoldier',
    name: 'Supersoldier',
    description: 'Complete a stratagem in under 0.5 seconds.',
    category: 'speed',
    checkType: 'live',
    icon: '\u{1F9BE}',
  },
  {
    id: 'hyperspeed',
    name: 'Hyperspeed',
    description: 'Complete a stratagem in under 0.3 seconds.',
    category: 'speed',
    checkType: 'live',
    icon: '\u{1F4A8}',
    hidden: true,
  },
  {
    id: 'speed-demon',
    name: 'Speed Demon',
    description: 'Complete 10 stratagems in under 1 second each.',
    category: 'speed',
    checkType: 'cumulative',
    icon: '\u{1F525}',
    maxProgress: 10,
  },
  {
    id: 'quick-deploy',
    name: 'Quick Deploy',
    description: 'Complete 50 stratagems in under 1 second each.',
    category: 'speed',
    checkType: 'cumulative',
    icon: '\u{1F680}',
    maxProgress: 50,
  },
  {
    id: 'rapid-response',
    name: 'Rapid Response',
    description: 'Complete 100 stratagems in under 1 second each.',
    category: 'speed',
    checkType: 'cumulative',
    icon: '\u{1F30A}',
    maxProgress: 100,
  },
  {
    id: 'blitz',
    name: 'Blitz',
    description: 'Average under 1.5s per stratagem in a session of 10+.',
    category: 'speed',
    checkType: 'session',
    icon: '\u{1F3CE}\uFE0F',
  },
  {
    id: 'no-hesitation',
    name: 'No Hesitation',
    description: 'Complete 5 stratagems in a row each under 1 second.',
    category: 'speed',
    checkType: 'live',
    icon: '\u{1F3AF}',
  },

  // ══════════════════════════════════════════════════════════════
  // STREAK (8)
  // ══════════════════════════════════════════════════════════════
  {
    id: 'getting-warm',
    name: 'Getting Warm',
    description: 'Reach x2 multiplier (4 streak).',
    category: 'streak',
    checkType: 'live',
    icon: '\u{1F321}\uFE0F',
  },
  {
    id: 'on-fire',
    name: 'On Fire',
    description: 'Reach x3 multiplier (8 streak).',
    category: 'streak',
    checkType: 'live',
    icon: '\u{1F525}',
  },
  {
    id: 'unstoppable',
    name: 'Unstoppable',
    description: 'Reach x4 multiplier (12 streak).',
    category: 'streak',
    checkType: 'live',
    icon: '\u{1F4A5}',
  },
  {
    id: 'streak-20',
    name: 'Relentless',
    description: 'Reach a 20 combo streak.',
    category: 'streak',
    checkType: 'live',
    icon: '\u{1F30B}',
  },
  {
    id: 'streak-50',
    name: 'Legendary',
    description: 'Reach a 50 combo streak.',
    category: 'streak',
    checkType: 'live',
    icon: '\u{1F451}',
    hidden: true,
  },
  {
    id: 'streak-100',
    name: 'Mythic',
    description: 'Reach a 100 combo streak.',
    category: 'streak',
    checkType: 'live',
    icon: '\u{1F30C}',
    hidden: true,
  },
  {
    id: 'flawless-10',
    name: 'Flawless Victory',
    description: '100% accuracy on 10+ stratagems in one session.',
    category: 'streak',
    checkType: 'session',
    icon: '\u{1F48E}',
  },
  {
    id: 'flawless-25',
    name: 'Perfect Soldier',
    description: '100% accuracy on 25+ stratagems in one session.',
    category: 'streak',
    checkType: 'session',
    icon: '\u{1F396}\uFE0F',
  },

  // ══════════════════════════════════════════════════════════════
  // COMPLETION (10)
  // ══════════════════════════════════════════════════════════════
  {
    id: 'first-deployment',
    name: 'First Deployment',
    description: 'Complete your first game.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F396}\uFE0F',
    maxProgress: 1,
  },
  {
    id: 'regular',
    name: 'Regular',
    description: 'Complete 10 games.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F3C5}',
    maxProgress: 10,
  },
  {
    id: 'veteran',
    name: 'Veteran',
    description: 'Complete 50 games.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F947}',
    maxProgress: 50,
  },
  {
    id: 'hero-of-super-earth',
    name: 'Hero of Super Earth',
    description: 'Complete 500 games.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F30D}',
    maxProgress: 500,
  },
  {
    id: 'marathon',
    name: 'Marathon',
    description: 'Accumulate 1 hour of total play time.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u23F1\uFE0F',
    maxProgress: 3600000,
  },
  {
    id: 'endurance',
    name: 'Endurance',
    description: 'Accumulate 5 hours of total play time.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F3CB}\uFE0F',
    maxProgress: 18000000,
  },
  {
    id: 'dedicated',
    name: 'Dedicated',
    description: 'Accumulate 10 hours of total play time.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F3C6}',
    maxProgress: 36000000,
  },
  {
    id: 'all-rounder',
    name: 'All-Rounder',
    description: 'Play at least 1 game in each of the 6 modes.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F503}',
    maxProgress: 6,
  },
  {
    id: 'centurion',
    name: 'Centurion',
    description: 'Complete 100 stratagems total.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u{1F6E1}\uFE0F',
    maxProgress: 100,
  },
  {
    id: 'millennium',
    name: 'Millennium',
    description: 'Complete 1000 stratagems total.',
    category: 'completion',
    checkType: 'cumulative',
    icon: '\u2B50',
    maxProgress: 1000,
  },

  // ══════════════════════════════════════════════════════════════
  // SCORE (8)
  // ══════════════════════════════════════════════════════════════
  {
    id: 'score-1k',
    name: '1K Club',
    description: 'Score 1,000 in a single game.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F4B0}',
  },
  {
    id: 'score-5k',
    name: '5K Club',
    description: 'Score 5,000 in a single game.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F4B0}',
  },
  {
    id: 'score-10k',
    name: '10K Club',
    description: 'Score 10,000 in a single game.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F48E}',
  },
  {
    id: 'score-25k',
    name: '25K Club',
    description: 'Score 25,000 in a single game.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F451}',
  },
  {
    id: 'score-50k',
    name: '50K Club',
    description: 'Score 50,000 in a single game.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F30C}',
    hidden: true,
  },
  {
    id: 'time-attack-expert',
    name: 'Time Attack Expert',
    description: 'Score 15,000 in Time Attack mode.',
    category: 'score',
    checkType: 'session',
    icon: '\u23F0',
  },
  {
    id: 'survival-specialist',
    name: 'Survival Specialist',
    description: 'Score 10,000 in Survival mode.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F480}',
  },
  {
    id: 'accuracy-ace',
    name: 'Accuracy Ace',
    description: 'Score 10,000 in Accuracy mode.',
    category: 'score',
    checkType: 'session',
    icon: '\u{1F3AF}',
  },

  // ══════════════════════════════════════════════════════════════
  // COLLECTION (10)
  // ══════════════════════════════════════════════════════════════
  {
    id: 'eagle-scout',
    name: 'Eagle Scout',
    description: 'Successfully complete all 7 Eagle stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F985}',
    maxProgress: 7,
  },
  {
    id: 'orbital-commander',
    name: 'Orbital Commander',
    description: 'Successfully complete all 7 Orbital Cannon stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F6F0}\uFE0F',
    maxProgress: 7,
  },
  {
    id: 'bridge-officer',
    name: 'Bridge Officer',
    description: 'Successfully complete all 5 Bridge stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F30A}',
    maxProgress: 5,
  },
  {
    id: 'engineer',
    name: 'Engineer',
    description: 'Successfully complete all 16 support weapons.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F527}',
    maxProgress: 16,
  },
  {
    id: 'roboticist',
    name: 'Roboticist',
    description: 'Successfully complete all 10 Robotics Workshop stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F916}',
    maxProgress: 10,
  },
  {
    id: 'pilot',
    name: 'Pilot',
    description: 'Successfully complete all 9 Hangar stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F681}',
    maxProgress: 9,
  },
  {
    id: 'general',
    name: 'General',
    description: 'Successfully complete all 4 General stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1FA96}',
    maxProgress: 4,
  },
  {
    id: 'mission-specialist',
    name: 'Mission Specialist',
    description: 'Successfully complete all 3 Mission stratagems.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F4CB}',
    maxProgress: 3,
  },
  {
    id: 'arsenal',
    name: 'Arsenal',
    description: 'Successfully complete all 61 stratagems at least once.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F3C6}',
    maxProgress: 61,
  },
  {
    id: 'completionist',
    name: 'Completionist',
    description: 'Successfully complete every stratagem 10+ times.',
    category: 'collection',
    checkType: 'cumulative',
    icon: '\u{1F31F}',
    maxProgress: 61,
  },

  // ══════════════════════════════════════════════════════════════
  // SPECIAL (6)
  // ══════════════════════════════════════════════════════════════
  {
    id: 'button-masher',
    name: 'Button Masher',
    description: 'Make 100 total input errors.',
    category: 'special',
    checkType: 'cumulative',
    icon: '\u{1F92F}',
    maxProgress: 100,
  },
  {
    id: 'night-owl',
    name: 'Night Owl',
    description: 'Play a game between 2am and 5am.',
    category: 'special',
    checkType: 'session',
    icon: '\u{1F989}',
    hidden: true,
  },
  {
    id: 'perfectionist',
    name: 'Perfectionist',
    description: '100% accuracy on 20+ stratagems in one session.',
    category: 'special',
    checkType: 'session',
    icon: '\u{1F4AF}',
  },
  {
    id: 'persistent',
    name: 'Persistent',
    description: 'Play 3 games in a single session (without closing the app).',
    category: 'special',
    checkType: 'cumulative',
    icon: '\u{1F4AA}',
    maxProgress: 3,
  },
  {
    id: 'strategist',
    name: 'Strategist',
    description: 'Complete all expert-tier stratagems at least once.',
    category: 'special',
    checkType: 'cumulative',
    icon: '\u{1F9E0}',
  },
  {
    id: 'first-blood',
    name: 'First Blood',
    description: 'Complete your very first stratagem.',
    category: 'special',
    checkType: 'live',
    icon: '\u{1F3AE}',
  },
];

export const achievementMap = new Map(achievements.map(a => [a.id, a]));

export const achievementsByCategory = achievements.reduce<Record<string, AchievementDef[]>>(
  (acc, a) => {
    (acc[a.category] ??= []).push(a);
    return acc;
  },
  {},
);
