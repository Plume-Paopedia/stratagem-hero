import type { Stratagem, StratagemTier, Direction } from '../types';

function tier(seq: Direction[]): StratagemTier {
  if (seq.length <= 3) return 'basic';
  if (seq.length <= 5) return 'advanced';
  return 'expert';
}

function s(
  id: string,
  name: string,
  category: Stratagem['category'],
  sequence: Direction[],
  cooldown: number,
  uses: number | 'infinite',
  description: string,
  icon: string,
): Stratagem {
  return { id, name, category, sequence, cooldown, uses, description, icon, tier: tier(sequence) };
}

export const stratagems: Stratagem[] = [
  // â”€â”€ General Stratagems â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('reinforce', 'Reinforce', 'General Stratagems',
    ['up', 'down', 'right', 'left', 'up'], 0, 'infinite',
    'Call in reinforcements to revive fallen Helldivers.', 'ðŸª–'),
  s('resupply', 'Resupply', 'General Stratagems',
    ['down', 'down', 'up', 'right'], 0, 'infinite',
    'Request a resupply pod with ammo, grenades and stims.', 'ðŸ“¦'),
  s('sos-beacon', 'SOS Beacon', 'General Stratagems',
    ['up', 'down', 'right', 'up'], 300, 1,
    'Broadcast an SOS signal to invite other Helldivers.', 'ðŸ†˜'),
  s('sssd-delivery', 'SSSD Delivery', 'General Stratagems',
    ['down', 'down', 'down', 'up', 'up'], 0, 1,
    'Request delivery of the Super Sample Storage Device.', 'ðŸ’¾'),
  s('hellbomb', 'Hellbomb', 'Mission Stratagems',
    ['down', 'up', 'left', 'down', 'up', 'right', 'down', 'up'], 0, 'infinite',
    'Deploy a Hellbomb for objective destruction.', 'ðŸ’£'),
  s('upload-data', 'Upload Data', 'Mission Stratagems',
    ['left', 'right', 'up', 'up', 'up'], 0, 'infinite',
    'Upload critical mission data.', 'ðŸ“¡'),
  s('seismic-probe', 'Seismic Probe', 'Mission Stratagems',
    ['up', 'up', 'left', 'right', 'down', 'down'], 0, 'infinite',
    'Deploy a seismic probe for geological surveys.', 'ðŸ“'),

  // â”€â”€ Patriotic Administration Center (Eagle) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('eagle-strafing-run', 'Eagle Strafing Run', 'Patriotic Administration Center',
    ['up', 'right', 'right'], 15, 'infinite',
    'Eagle performs a strafing run with its cannons.', 'âœˆï¸'),
  s('eagle-airstrike', 'Eagle Airstrike', 'Patriotic Administration Center',
    ['up', 'right', 'down', 'right'], 15, 'infinite',
    'Eagle drops a line of high-explosive bombs.', 'ðŸ’¥'),
  s('eagle-cluster-bomb', 'Eagle Cluster Bomb', 'Patriotic Administration Center',
    ['up', 'right', 'down', 'down', 'right'], 15, 'infinite',
    'Eagle drops a spread of cluster munitions.', 'ðŸŽ†'),
  s('eagle-napalm-airstrike', 'Eagle Napalm Airstrike', 'Patriotic Administration Center',
    ['up', 'right', 'down', 'up'], 15, 'infinite',
    'Eagle drops incendiary napalm over a wide area.', 'ðŸ”¥'),
  s('eagle-smoke-strike', 'Eagle Smoke Strike', 'Patriotic Administration Center',
    ['up', 'right', 'up', 'down'], 15, 'infinite',
    'Eagle deploys a line of smoke for concealment.', 'ðŸŒ«ï¸'),
  s('eagle-110mm-rocket-pods', 'Eagle 110mm Rocket Pods', 'Patriotic Administration Center',
    ['up', 'right', 'up', 'left'], 15, 'infinite',
    'Eagle fires a barrage of 110mm rockets.', 'ðŸš€'),
  s('eagle-500kg-bomb', 'Eagle 500kg Bomb', 'Patriotic Administration Center',
    ['up', 'right', 'down', 'down', 'down'], 15, 'infinite',
    'Eagle drops a single devastating 500kg bomb.', 'â˜¢ï¸'),

  // â”€â”€ Orbital Cannons / Bridge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('orbital-gatling-barrage', 'Orbital Gatling Barrage', 'Orbital Cannons',
    ['right', 'down', 'left', 'up', 'up'], 80, 'infinite',
    'Super Destroyer fires a sustained gatling barrage.', 'ðŸ”«'),
  s('orbital-airburst-strike', 'Orbital Airburst Strike', 'Orbital Cannons',
    ['right', 'right', 'right'], 120, 'infinite',
    'Orbital airburst munitions detonate above the target.', 'ðŸ’«'),
  s('orbital-120mm-he-barrage', 'Orbital 120mm HE Barrage', 'Orbital Cannons',
    ['right', 'right', 'down', 'left'], 120, 'infinite',
    'A barrage of 120mm high-explosive shells.', 'ðŸŽ¯'),
  s('orbital-380mm-he-barrage', 'Orbital 380mm HE Barrage', 'Orbital Cannons',
    ['right', 'down', 'up', 'up', 'left', 'down', 'down'], 240, 'infinite',
    'Massive 380mm shells obliterate a huge area.', 'ðŸŒ‹'),
  s('orbital-walking-barrage', 'Orbital Walking Barrage', 'Orbital Cannons',
    ['right', 'down', 'right', 'down', 'right', 'down'], 240, 'infinite',
    'Artillery barrage that walks forward across the battlefield.', 'ðŸš¶'),
  s('orbital-laser', 'Orbital Laser', 'Orbital Cannons',
    ['right', 'down', 'up', 'right', 'down'], 300, 3,
    'A devastating orbital laser beam sweeps the area.', 'âš¡'),
  s('orbital-railcannon-strike', 'Orbital Railcannon Strike', 'Orbital Cannons',
    ['right', 'up', 'down', 'down', 'right'], 210, 'infinite',
    'Fires a single high-velocity railcannon round from orbit.', 'ðŸŽ¯'),
  s('orbital-precision-strike', 'Orbital Precision Strike', 'Bridge',
    ['right', 'right', 'up'], 90, 'infinite',
    'A single precise orbital strike on the target location.', 'ðŸŽ¯'),
  s('orbital-gas-strike', 'Orbital Gas Strike', 'Bridge',
    ['right', 'right', 'down', 'right'], 75, 'infinite',
    'Deploys toxic gas from orbit over the target area.', 'â˜ï¸'),
  s('orbital-ems-strike', 'Orbital EMS Strike', 'Bridge',
    ['right', 'right', 'left', 'down'], 75, 'infinite',
    'Electromagnetic pulse strike that stuns enemies.', 'âš¡'),
  s('orbital-smoke-strike', 'Orbital Smoke Strike', 'Bridge',
    ['right', 'right', 'down', 'up'], 100, 'infinite',
    'Orbital smoke deployment for area concealment.', 'ðŸŒ«ï¸'),
  s('orbital-napalm-barrage', 'Orbital Napalm Barrage', 'Bridge',
    ['right', 'right', 'down', 'left', 'right', 'up'], 240, 'infinite',
    'Rains napalm from orbit, setting a wide area ablaze.', 'ðŸ”¥'),

  // â”€â”€ Engineering Bay (Support Weapons) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('machine-gun', 'Machine Gun', 'Engineering Bay',
    ['down', 'left', 'down', 'up', 'right'], 480, 'infinite',
    'A versatile belt-fed machine gun for sustained fire.', 'ðŸ”«'),
  s('anti-materiel-rifle', 'Anti-Materiel Rifle', 'Engineering Bay',
    ['down', 'left', 'right', 'up', 'down'], 480, 'infinite',
    'High-caliber rifle for penetrating heavy armor.', 'ðŸŽ¯'),
  s('stalwart', 'Stalwart', 'Engineering Bay',
    ['down', 'left', 'down', 'up', 'up', 'left'], 480, 'infinite',
    'Light machine gun with high rate of fire.', 'ðŸ”«'),
  s('expendable-anti-tank', 'Expendable Anti-Tank', 'Engineering Bay',
    ['down', 'down', 'left', 'up', 'right'], 70, 'infinite',
    'Single-use rocket launcher effective against armored targets.', 'ðŸš€'),
  s('recoilless-rifle', 'Recoilless Rifle', 'Engineering Bay',
    ['down', 'left', 'right', 'right', 'left'], 480, 'infinite',
    'Powerful anti-tank weapon with backblast. Reload faster with a teammate.', 'ðŸš€'),
  s('flamethrower', 'Flamethrower', 'Engineering Bay',
    ['down', 'left', 'up', 'down', 'up'], 480, 'infinite',
    'Projects a stream of burning fuel. Effective against bugs.', 'ðŸ”¥'),
  s('autocannon', 'Autocannon', 'Engineering Bay',
    ['down', 'left', 'down', 'up', 'up', 'right'], 480, 'infinite',
    'Rapid-fire cannon with explosive rounds. Comes with backpack ammo.', 'ðŸ’¥'),
  s('railgun', 'Railgun', 'Engineering Bay',
    ['down', 'right', 'down', 'up', 'left', 'right'], 480, 'infinite',
    'Electromagnetic rifle. Charge shots for maximum penetration.', 'âš¡'),
  s('spear', 'Spear', 'Engineering Bay',
    ['down', 'down', 'up', 'down', 'down'], 480, 'infinite',
    'Lock-on guided missile launcher for heavy targets.', 'ðŸš€'),
  s('grenade-launcher', 'Grenade Launcher', 'Engineering Bay',
    ['down', 'left', 'up', 'left', 'down'], 480, 'infinite',
    'Six-round grenade launcher for area denial.', 'ðŸ’£'),
  s('laser-cannon', 'Laser Cannon', 'Engineering Bay',
    ['down', 'left', 'down', 'up', 'left'], 480, 'infinite',
    'Continuous beam laser weapon. Never runs out of ammo.', 'âš¡'),
  s('arc-thrower', 'Arc Thrower', 'Engineering Bay',
    ['down', 'right', 'down', 'up', 'left', 'left'], 480, 'infinite',
    'Electrical weapon that chains lightning between enemies.', 'âš¡'),
  s('quasar-cannon', 'Quasar Cannon', 'Engineering Bay',
    ['down', 'down', 'up', 'left', 'right'], 480, 'infinite',
    'Energy cannon that charges up a devastating shot.', 'ðŸ”®'),
  s('heavy-machine-gun', 'Heavy Machine Gun', 'Engineering Bay',
    ['down', 'left', 'up', 'down', 'down'], 480, 'infinite',
    'Heavier variant of the MG with more stopping power.', 'ðŸ”«'),
  s('airburst-rocket-launcher', 'Airburst Rocket Launcher', 'Engineering Bay',
    ['down', 'up', 'up', 'left', 'right'], 480, 'infinite',
    'Fires rockets that detonate above targets for max spread.', 'ðŸš€'),
  s('commando', 'Commando', 'Engineering Bay',
    ['down', 'left', 'up', 'down', 'right'], 480, 'infinite',
    'Guided missile launcher with manual steering.', 'ðŸŽ¯'),

  // â”€â”€ Robotics Workshop (Sentries & Defenses) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('machine-gun-sentry', 'Machine Gun Sentry', 'Robotics Workshop',
    ['down', 'up', 'right', 'right', 'up'], 180, 'infinite',
    'Automated sentry with a machine gun.', 'ðŸ¤–'),
  s('gatling-sentry', 'Gatling Sentry', 'Robotics Workshop',
    ['down', 'up', 'right', 'left'], 180, 'infinite',
    'High-rate-of-fire automated gatling sentry.', 'ðŸ¤–'),
  s('mortar-sentry', 'Mortar Sentry', 'Robotics Workshop',
    ['down', 'up', 'right', 'right', 'down'], 180, 'infinite',
    'Automated mortar for indirect fire support.', 'ðŸ¤–'),
  s('autocannon-sentry', 'Autocannon Sentry', 'Robotics Workshop',
    ['down', 'up', 'right', 'up', 'left', 'up'], 180, 'infinite',
    'Armored sentry with an autocannon. Effective vs medium armor.', 'ðŸ¤–'),
  s('rocket-sentry', 'Rocket Sentry', 'Robotics Workshop',
    ['down', 'up', 'right', 'right', 'left'], 180, 'infinite',
    'Automated rocket sentry for anti-armor duty.', 'ðŸ¤–'),
  s('ems-mortar-sentry', 'EMS Mortar Sentry', 'Robotics Workshop',
    ['down', 'up', 'right', 'down', 'right'], 180, 'infinite',
    'Mortar sentry that fires EMS rounds to slow enemies.', 'ðŸ¤–'),
  s('anti-personnel-minefield', 'Anti-Personnel Minefield', 'Robotics Workshop',
    ['down', 'left', 'up', 'right'], 180, 'infinite',
    'Deploys a field of anti-personnel mines.', 'ðŸ’£'),
  s('incendiary-mines', 'Incendiary Mines', 'Robotics Workshop',
    ['down', 'left', 'left', 'down'], 180, 'infinite',
    'Deploys mines that ignite targets on detonation.', 'ðŸ”¥'),
  s('shield-generator-relay', 'Shield Generator Relay', 'Robotics Workshop',
    ['down', 'down', 'left', 'right', 'left', 'right'], 180, 'infinite',
    'Projects a large energy shield over an area.', 'ðŸ›¡ï¸'),
  s('tesla-tower', 'Tesla Tower', 'Robotics Workshop',
    ['down', 'up', 'right', 'up', 'left', 'right'], 180, 'infinite',
    'Automated tower that zaps nearby enemies with electricity.', 'âš¡'),

  // â”€â”€ Hangar (Backpacks & Support) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('guard-dog-rover', 'Guard Dog Rover', 'Hangar',
    ['down', 'up', 'left', 'up', 'right', 'right'], 480, 'infinite',
    'Autonomous laser drone that orbits and defends you.', 'ðŸ•'),
  s('guard-dog', 'Guard Dog', 'Hangar',
    ['down', 'up', 'left', 'up', 'right', 'down'], 480, 'infinite',
    'Autonomous armed drone with a liberator SMG.', 'ðŸ•'),
  s('ballistic-shield', 'Ballistic Shield Backpack', 'Hangar',
    ['down', 'left', 'down', 'down', 'up', 'left'], 300, 'infinite',
    'A deployable shield for front-facing protection.', 'ðŸ›¡ï¸'),
  s('shield-generator-pack', 'Shield Generator Pack', 'Hangar',
    ['down', 'up', 'left', 'right', 'left', 'right'], 480, 'infinite',
    'Generates a personal energy shield around you.', 'ðŸ›¡ï¸'),
  s('jump-pack', 'Jump Pack', 'Hangar',
    ['down', 'up', 'up', 'down', 'up'], 480, 'infinite',
    'Jetpack enabling quick vertical repositioning.', 'ðŸ¦…'),
  s('supply-pack', 'Supply Pack', 'Hangar',
    ['down', 'left', 'down', 'up', 'up', 'down'], 480, 'infinite',
    'Backpack that carries extra supplies for the squad.', 'ðŸŽ’'),
  s('guard-dog-dog-breath', 'Guard Dog "Dog Breath"', 'Hangar',
    ['down', 'up', 'left', 'up', 'right', 'up'], 480, 'infinite',
    'Guard Dog variant armed with a flamethrower.', 'ðŸ•'),

  // â”€â”€ Vehicles (Bridge) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  s('patriot-exosuit', 'Patriot Exosuit', 'Hangar',
    ['left', 'down', 'right', 'up', 'left', 'down', 'down'], 600, 1,
    'Pilotable mech with a gatling gun and rocket launcher.', 'ðŸ¤–'),
  s('emancipator-exosuit', 'Emancipator Exosuit', 'Hangar',
    ['left', 'down', 'right', 'up', 'left', 'down', 'up'], 600, 1,
    'Dual-autocannon exosuit for heavy firepower.', 'ðŸ¤–'),
];

/** Lookup map by id */
export const stratagemMap = new Map(stratagems.map(s => [s.id, s]));

/** Get stratagems by category */
export function getByCategory(category: Stratagem['category']): Stratagem[] {
  return stratagems.filter(s => s.category === category);
}

/** All unique categories in order */
export const categories: Stratagem['category'][] = [
  'General Stratagems',
  'Patriotic Administration Center',
  'Orbital Cannons',
  'Bridge',
  'Engineering Bay',
  'Robotics Workshop',
  'Hangar',
  'Mission Stratagems',
];
